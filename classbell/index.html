<!DOCTYPE html>
<html>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <body style="text-align: center;">
    <h1 id="h1_minit"></h1>

    <h2 id="countdown" style="font-weight: bold;"></h2>

    <audio id="classbell" controls="" preload="auto"><source src="School_Bell_Ringing_sound.mp3#t=4" type="audio/mp3"></audio>
        <br><br>
    <audio id="classbell2" autoplay="true" loop muted preload="auto"><source src="School_Bell_Ringing_sound.mp3#t=4" type="audio/mp3"></audio>

    <br><br>
    
    <input type="button" value="Activate" onclick="activated(this)" style="width: 100px; height: 50px;">

    <script>
        //minute bell inteval (please change)
        //var minute_interval = 1

        //get minute_interval from url

        var c_url = window.location.href;
        var minute_interval = c_url.split("?t=")[1];
        // console.log(minute_interval);

        if (minute_interval==undefined){
            // console.log("dfg")
            minute_interval = 1
        }


        document.getElementById("h1_minit").innerHTML = minute_interval + " Minit"


        var time_interval = minute_interval*60*1000;
        var player = document.getElementById('classbell');
        var player2 = document.getElementById('classbell2');


        function activated(thisEL){ 
            thisEL.value = "activated";
            player.currentTime = 2;
            player.play();
            player.muted = !player.muted;
            player2.play();

        }
        
        setInterval(async function(){
            player.currentTime = 2;
            player.muted = !player.muted;
            await player.play();
        }, time_interval);




        </script>
  </body>
</html>
